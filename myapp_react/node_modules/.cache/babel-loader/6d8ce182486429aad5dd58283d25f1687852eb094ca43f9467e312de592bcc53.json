{"ast":null,"code":"import _slicedToArray from\"C:/Users/Kazinagg/OneDrive/BSU/Practika/Dorm_Manager2/Dorm_Manager2/myapp_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// LoginPage.tsx\nimport React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getCookie(name){var _parts$pop,_parts$pop2;var value=\"; \".concat(document.cookie);var parts=value.split(\"; \".concat(name,\"=\"));console.log((_parts$pop=parts.pop())===null||_parts$pop===void 0?void 0:_parts$pop.split(';').shift());if(parts.length===2)return(_parts$pop2=parts.pop())===null||_parts$pop2===void 0?void 0:_parts$pop2.split(';').shift();}var LoginPage=function LoginPage(_ref){var onLogin=_ref.onLogin;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),csrfToken=_useState6[0],setCsrfToken=_useState6[1];// useEffect(() => {\n//   const token = getCookie('csrftoken');\n//   console.log(csrfToken);\n//   if (token) {\n//     setCsrfToken(token);\n//   }\n// }, []);\nvar handleSubmit=function handleSubmit(event){console.log(\"Нажание на кнопку войти\");console.log(username);console.log(password);var token=getCookie('csrftoken');console.log(token);if(token){setCsrfToken(token);}console.log(csrfToken);event.preventDefault();if(username&&password){console.log(\"csrfToken есть\");onLogin(username,password);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100vh'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'1rem'},children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0430\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:'flex',flexDirection:'column',gap:'1rem',width:'300px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"csrfmiddlewaretoken\",value:csrfToken}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},style:{padding:'0.5rem',fontSize:'1rem'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},style:{padding:'0.5rem',fontSize:'1rem'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});};export default LoginPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","getCookie","name","_parts$pop","_parts$pop2","value","concat","document","cookie","parts","split","console","log","pop","shift","length","LoginPage","_ref","onLogin","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","csrfToken","setCsrfToken","handleSubmit","event","token","preventDefault","style","display","flexDirection","alignItems","justifyContent","height","children","marginBottom","onSubmit","gap","width","type","onChange","e","target","padding","fontSize","className"],"sources":["C:/Users/Kazinagg/OneDrive/BSU/Practika/Dorm_Manager2/Dorm_Manager2/myapp_react/src/pages/LoginPage.tsx"],"sourcesContent":["// LoginPage.tsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\ninterface LoginPageProps {\r\n  onLogin: (username: string, password: string) => void;\r\n}\r\n\r\nfunction getCookie(name: string): string | undefined {\r\n  const value = `; ${document.cookie}`;\r\n  const parts = value.split(`; ${name}=`);\r\n  console.log(parts.pop()?.split(';').shift())\r\n  if (parts.length === 2) return parts.pop()?.split(';').shift();\r\n}\r\n\r\nconst LoginPage: React.FC<LoginPageProps> = ({ onLogin }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [csrfToken, setCsrfToken] = useState<string | undefined>('');\r\n\r\n  // useEffect(() => {\r\n  //   const token = getCookie('csrftoken');\r\n  //   console.log(csrfToken);\r\n  //   if (token) {\r\n  //     setCsrfToken(token);\r\n  //   }\r\n  // }, []);\r\n\r\n  const handleSubmit = (event: React.FormEvent) => {\r\n    console.log(\"Нажание на кнопку войти\")\r\n    console.log(username)\r\n    console.log(password)\r\n    const token = getCookie('csrftoken');\r\n    console.log(token)\r\n    if (token) {\r\n       setCsrfToken(token);\r\n    }\r\n    console.log(csrfToken)\r\n    event.preventDefault();\r\n    if (username && password) {\r\n      console.log(\"csrfToken есть\")\r\n      onLogin(username, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', height: '100vh' }}>\r\n      <h1 style={{ marginBottom: '1rem' }}>Страница входа</h1>\r\n      <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1rem', width: '300px' }}>\r\n        <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrfToken} />\r\n        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} style={{ padding: '0.5rem', fontSize: '1rem' }} />\r\n        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} style={{ padding: '0.5rem', fontSize: '1rem' }} />\r\n        <button type=\"submit\" className=\"login-button\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}