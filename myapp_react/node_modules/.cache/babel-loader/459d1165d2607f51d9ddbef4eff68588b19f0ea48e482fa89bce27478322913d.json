{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Kazinagg/OneDrive/BSU/Practika/Dorm_Manager2/Dorm_Manager2/myapp_react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Kazinagg/OneDrive/BSU/Practika/Dorm_Manager2/Dorm_Manager2/myapp_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// pages/AdminPage.tsx\n// import React from 'react';\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminPage=function AdminPage(){var _useState=useState({key:'first_name',direction:'ascending'}),_useState2=_slicedToArray(_useState,2),sortConfig=_useState2[0],setSortConfig=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];useEffect(function(){axios.get('/api/data/ollStudent').then(function(response){setRows(response.data);});},[]);useEffect(function(){var sortArray=function sortArray(type){var sorted=_toConsumableArray(rows).sort(function(a,b){if(typeof a[type]==='number'&&typeof b[type]==='number'){return a[type]-b[type];}if(typeof a[type]==='string'&&typeof b[type]==='string'){return a[type].localeCompare(b[type]);}return 0;});if(sortConfig.direction==='descending')sorted.reverse();return sorted;};if(sortConfig.key){var sortedData=sortArray(sortConfig.key);setRows(sortedData);}},[sortConfig]);var requestSort=function requestSort(key){var direction='ascending';if(sortConfig.key===key&&sortConfig.direction==='ascending'){direction='descending';}setSortConfig({key:key,direction:direction});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"home-page__title\",children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"home-page__info\",children:\"\\u0416\\u0438\\u0442\\u0435\\u043B\\u0438 \\u044D\\u0442\\u043E\\u0433\\u043E \\u043E\\u0431\\u0449\\u0430\\u0436\\u043D\\u043E\\u0433\\u043E \\u0430\\u0434\\u0430.\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('first_name');},children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('last_name');},children:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('birth_date');},children:\"\\u0414\\u0435\\u043D\\u044C \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('email');},children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('gender');},children:\"\\u041F\\u043E\\u043B\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('country_name');},children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('username');},children:\"username\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('password');},children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return requestSort('phone');},children:\"Phone\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows.map(function(row,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.first_name}),/*#__PURE__*/_jsx(\"td\",{children:row.last_name}),/*#__PURE__*/_jsx(\"td\",{children:row.birth_date}),/*#__PURE__*/_jsx(\"td\",{children:row.email}),/*#__PURE__*/_jsx(\"td\",{children:row.gender}),/*#__PURE__*/_jsx(\"td\",{children:row.country_name}),/*#__PURE__*/_jsx(\"td\",{children:row.username}),/*#__PURE__*/_jsx(\"td\",{children:row.password}),/*#__PURE__*/_jsx(\"td\",{children:row.phone})]},index);})})]})]})})});};export default AdminPage;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","AdminPage","_useState","key","direction","_useState2","_slicedToArray","sortConfig","setSortConfig","_useState3","_useState4","rows","setRows","get","then","response","data","sortArray","type","sorted","_toConsumableArray","sort","a","b","localeCompare","reverse","sortedData","requestSort","children","className","onClick","map","row","index","first_name","last_name","birth_date","email","gender","country_name","username","password","phone"],"sources":["C:/Users/Kazinagg/OneDrive/BSU/Practika/Dorm_Manager2/Dorm_Manager2/myapp_react/src/pages/AdminPage.tsx"],"sourcesContent":["// pages/AdminPage.tsx\r\n// import React from 'react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\ntype Student = {\r\n  student_id: number;\r\n  first_name: string;\r\n  last_name: string;\r\n  birth_date: string;\r\n  gender: string;\r\n  country_name: number;\r\n  phone: string;\r\n  username: string;\r\n  password:string;\r\n  email: string;\r\n};\r\n\r\ntype SortConfig = {\r\n  key: keyof Student;\r\n  direction: 'ascending' | 'descending';\r\n};\r\n\r\nconst AdminPage: React.FC = () => {\r\n  const [sortConfig, setSortConfig] = useState<SortConfig>({ key: 'first_name', direction: 'ascending' });\r\n  const [rows, setRows] = useState<Student[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/data/ollStudent')\r\n      .then(response => {\r\n        setRows(response.data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const sortArray = (type: keyof Student) => {\r\n      const sorted = [...rows].sort((a, b) => {\r\n        if (typeof a[type] === 'number' && typeof b[type] === 'number') {\r\n          return (a[type] as number) - (b[type] as number);\r\n        }\r\n        if (typeof a[type] === 'string' && typeof b[type] === 'string') {\r\n          return (a[type] as string).localeCompare(b[type] as string);\r\n        }\r\n        return 0;\r\n      });\r\n      if (sortConfig.direction === 'descending') sorted.reverse();\r\n      return sorted;\r\n    };\r\n    \r\n\r\n    if (sortConfig.key) {\r\n      const sortedData = sortArray(sortConfig.key);\r\n      setRows(sortedData);\r\n    }\r\n  }, [sortConfig]);\r\n\r\n  const requestSort = (key: keyof Student) => {\r\n    let direction: 'ascending' | 'descending' = 'ascending';\r\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n      direction = 'descending';\r\n    }\r\n    setSortConfig({ key, direction });\r\n  };\r\n  return (\r\n    <div>\r\n      {/* <h1>Страница администратора</h1> */}\r\n      <div>\r\n      <div className=\"home-page\">\r\n        <h1 className=\"home-page__title\">Страница администратора</h1>\r\n        <p className=\"home-page__info\">\r\n          Жители этого общажного ада.\r\n        </p>\r\n        <table>\r\n          <thead>\r\n          <tr>\r\n            <th onClick={() => requestSort('first_name')}>Имя</th>\r\n            <th onClick={() => requestSort('last_name')}>Фамилия</th>\r\n            <th onClick={() => requestSort('birth_date')}>День рождения</th>\r\n            <th onClick={() => requestSort('email')}>Email</th>\r\n            <th onClick={() => requestSort('gender')}>Пол</th>\r\n            <th onClick={() => requestSort('country_name')}>Страна</th>\r\n            <th onClick={() => requestSort('username')}>username</th>\r\n            <th onClick={() => requestSort('password')}>Пароль</th>\r\n            <th onClick={() => requestSort('phone')}>Phone</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows.map((row, index) => (\r\n              <tr key={index}>\r\n                <td>{row.first_name}</td>\r\n                <td>{row.last_name}</td>\r\n                <td>{row.birth_date}</td>\r\n                <td>{row.email}</td>\r\n                <td>{row.gender}</td>\r\n                <td>{row.country_name}</td>\r\n                <td>{row.username}</td>\r\n                <td>{row.password}</td>\r\n                <td>{row.phone}</td>\r\n\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;\r\n"],"mappings":"kVAAA;AACA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAoB1B,GAAM,CAAAC,SAAmB,CAAG,QAAtB,CAAAA,SAAmBA,CAAA,CAAS,CAChC,IAAAC,SAAA,CAAoCR,QAAQ,CAAa,CAAES,GAAG,CAAE,YAAY,CAAEC,SAAS,CAAE,WAAY,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAAhGK,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAwBf,QAAQ,CAAY,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAxCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBf,SAAS,CAAC,UAAM,CACdC,KAAK,CAACiB,GAAG,CAAC,sBAAsB,CAAC,CAC9BC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBH,OAAO,CAACG,QAAQ,CAACC,IAAI,CAAC,CACxB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAENrB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAsB,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,IAAmB,CAAK,CACzC,GAAM,CAAAC,MAAM,CAAGC,kBAAA,CAAIT,IAAI,EAAEU,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,CAAK,CACtC,GAAI,MAAO,CAAAD,CAAC,CAACJ,IAAI,CAAC,GAAK,QAAQ,EAAI,MAAO,CAAAK,CAAC,CAACL,IAAI,CAAC,GAAK,QAAQ,CAAE,CAC9D,MAAQ,CAAAI,CAAC,CAACJ,IAAI,CAAC,CAAeK,CAAC,CAACL,IAAI,CAAY,CAClD,CACA,GAAI,MAAO,CAAAI,CAAC,CAACJ,IAAI,CAAC,GAAK,QAAQ,EAAI,MAAO,CAAAK,CAAC,CAACL,IAAI,CAAC,GAAK,QAAQ,CAAE,CAC9D,MAAQ,CAAAI,CAAC,CAACJ,IAAI,CAAC,CAAYM,aAAa,CAACD,CAAC,CAACL,IAAI,CAAW,CAAC,CAC7D,CACA,MAAO,EAAC,CACV,CAAC,CAAC,CACF,GAAIX,UAAU,CAACH,SAAS,GAAK,YAAY,CAAEe,MAAM,CAACM,OAAO,CAAC,CAAC,CAC3D,MAAO,CAAAN,MAAM,CACf,CAAC,CAGD,GAAIZ,UAAU,CAACJ,GAAG,CAAE,CAClB,GAAM,CAAAuB,UAAU,CAAGT,SAAS,CAACV,UAAU,CAACJ,GAAG,CAAC,CAC5CS,OAAO,CAACc,UAAU,CAAC,CACrB,CACF,CAAC,CAAE,CAACnB,UAAU,CAAC,CAAC,CAEhB,GAAM,CAAAoB,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIxB,GAAkB,CAAK,CAC1C,GAAI,CAAAC,SAAqC,CAAG,WAAW,CACvD,GAAIG,UAAU,CAACJ,GAAG,GAAKA,GAAG,EAAII,UAAU,CAACH,SAAS,GAAK,WAAW,CAAE,CAClEA,SAAS,CAAG,YAAY,CAC1B,CACAI,aAAa,CAAC,CAAEL,GAAG,CAAHA,GAAG,CAAEC,SAAS,CAATA,SAAU,CAAC,CAAC,CACnC,CAAC,CACD,mBACEN,IAAA,QAAA8B,QAAA,cAEE9B,IAAA,QAAA8B,QAAA,cACA5B,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB9B,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,uIAAuB,CAAI,CAAC,cAC7D9B,IAAA,MAAG+B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,gJAE/B,CAAG,CAAC,cACJ5B,KAAA,UAAA4B,QAAA,eACE9B,IAAA,UAAA8B,QAAA,cACA5B,KAAA,OAAA4B,QAAA,eACE9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,YAAY,CAAC,EAAC,CAAAC,QAAA,CAAC,oBAAG,CAAI,CAAC,cACtD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,WAAW,CAAC,EAAC,CAAAC,QAAA,CAAC,4CAAO,CAAI,CAAC,cACzD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,YAAY,CAAC,EAAC,CAAAC,QAAA,CAAC,2EAAa,CAAI,CAAC,cAChE9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,OAAO,CAAC,EAAC,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACnD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,QAAQ,CAAC,EAAC,CAAAC,QAAA,CAAC,oBAAG,CAAI,CAAC,cAClD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,cAAc,CAAC,EAAC,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cAC3D9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,UAAU,CAAC,EAAC,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACzD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,UAAU,CAAC,EAAC,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cACvD9B,IAAA,OAAIgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,WAAW,CAAC,OAAO,CAAC,EAAC,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,EACjD,CAAC,CACE,CAAC,cACR9B,IAAA,UAAA8B,QAAA,CACGjB,IAAI,CAACoB,GAAG,CAAC,SAACC,GAAG,CAAEC,KAAK,qBACnBjC,KAAA,OAAA4B,QAAA,eACE9B,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACE,UAAU,CAAK,CAAC,cACzBpC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACG,SAAS,CAAK,CAAC,cACxBrC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACI,UAAU,CAAK,CAAC,cACzBtC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACK,KAAK,CAAK,CAAC,cACpBvC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACM,MAAM,CAAK,CAAC,cACrBxC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACO,YAAY,CAAK,CAAC,cAC3BzC,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACQ,QAAQ,CAAK,CAAC,cACvB1C,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACS,QAAQ,CAAK,CAAC,cACvB3C,IAAA,OAAA8B,QAAA,CAAKI,GAAG,CAACU,KAAK,CAAK,CAAC,GATbT,KAWL,CAAC,EACN,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CACH,CAAC,CACD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}